<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>2.1 QHTML Manual : Geometry management</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="index.html">- Up -</A></TD><TD><A href="node5.html#chapter.handle">Next &gt;&gt;</A></TD></TR></TABLE><DIV id="chapter.geometry"><H2><A name="chapter.geometry">2.1 QHTML Manual : Geometry management</A></H2><P>The introductory example showed the building of a simple application and how its gui is expressed in QHTML. The geometry management and the different principles of QHTML are described in this chapter. </P><P></P><P></P><H3><A name="label6">2.1.1 Geometry management</A></H3><P></P><P>The geometry management is done by means of dedicated widgets : </P><P></P><UL><LI><P><CODE>td</CODE> which organizes widgets top down.</P><P></P></LI><LI><P><CODE>lr</CODE> which organizes widgets from left to right.</P><P></P></LI></UL><P>By default all widgets take exactly the size they need to draw themselves. If there is more space available, widgets are centered by default inside that space. That behaviour can be changed by the <CODE>glue</CODE> parameter (almost) all widgets have. Valid values for this parameter are atoms that are a combination of the letters <CODE>n</CODE>, <CODE>s</CODE>, <CODE>w</CODE> and <CODE>e</CODE> that correspond respectively to the top, bottom, left and right side of the widget. Gluing a side consist of placing a constraint on that side with its corresponding neighboor. Gluing two opposite sides results in the widget taking all the space available in the direction of these sides.</P><P></P><P>Let's consider :</P><P></P><BLOCKQUOTE class="code"><CODE>lr(glue:nswe<BR>&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Left&quot;</SPAN>)<BR>&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Right&quot;</SPAN>))&nbsp;</CODE></BLOCKQUOTE><P></P><P></P><DIV id="figure.geometry1.gif"><HR><P><A name="figure.geometry1.gif"></A></P><DIV align="center"><IMG alt="" src="geometry1.gif"></DIV><P class="caption"><STRONG>Figure&nbsp;2.1.</STRONG></P><HR></DIV><P></P><P></P><P>This describes a frame with two buttons placed side by side horizontally.If the user resizes the window, the frame is split in equal space and each button is centered within its own space. </P><P></P><P></P><DIV id="figure.geometry2.gif"><HR><P><A name="figure.geometry2.gif"></A></P><DIV align="center"><IMG alt="" src="geometry2.gif"></DIV><P class="caption"><STRONG>Figure&nbsp;2.2.</STRONG></P><HR></DIV><P></P><P></P><P>We can add constraints to how control the geometry of the widgets with the <CODE>glue</CODE> parameter :</P><P></P><BLOCKQUOTE class="code"><CODE>lr(glue:nswe<BR>&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Left&quot;</SPAN>&nbsp;glue:e)<BR>&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Right&quot;</SPAN>&nbsp;glue:w)&nbsp;</CODE></BLOCKQUOTE><P></P><P></P><DIV id="figure.geometry3.gif"><HR><P><A name="figure.geometry3.gif"></A></P><DIV align="center"><IMG alt="" src="geometry3.gif"></DIV><P class="caption"><STRONG>Figure&nbsp;2.3.</STRONG></P><HR></DIV><P></P><P></P><P>Now both widgets have glued their horizontal border that is neighboor of the other widget so that they are both glued together. When the window is resized, the two buttons stick themselves together, centering themselves in all the available space. Note that QHTML behave slightly differently from QTk : with QTk, only one of widget had to glue itself to the other for them to be glued together while with QHTML they both have to be glued.</P><P></P><P>It is also possible to ask widgets to take as much space as is available:</P><P></P><BLOCKQUOTE class="code"><CODE>lr(glue:nswe<BR>&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Left&quot;</SPAN>&nbsp;glue:we)<BR>&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Right&quot;</SPAN>))&nbsp;</CODE></BLOCKQUOTE><P></P><P></P><DIV id="figure.geometry4.gif"><HR><P><A name="figure.geometry4.gif"></A></P><DIV align="center"><IMG alt="" src="geometry4.gif"></DIV><P class="caption"><STRONG>Figure&nbsp;2.4.</STRONG></P><HR></DIV><P></P><P></P><P>The first button is glued to both horizontal side. The second button takes just its necessary size (default behaviour). The result is that the second button is stuck to the right while the first button takes all the remaining available horizontal space. Note the blank space at the right of the second button : this space is reserved by the browser to display a vertical scrollbar if needed. Sadly this space is lost even if there is no scrollbar to display.</P><P></P><P><CODE>td</CODE> widgets can be included inside <CODE>lr</CODE> widgets and vice versa. Combining with the <CODE>glue</CODE> parameter, complex windows can be built. However it is hard to obtain windows that need a grid structure like a calculator : </P><P></P><BLOCKQUOTE class="code"><CODE>td(lr(button(value:<SPAN class="string">&quot;One&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Two&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Three&quot;</SPAN>))<BR>&nbsp;&nbsp;&nbsp;lr(button(value:<SPAN class="string">&quot;Four&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Five&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Six&quot;</SPAN>))<BR>&nbsp;&nbsp;&nbsp;lr(button(value:<SPAN class="string">&quot;Seven&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Height&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Nine&quot;</SPAN>))<BR>&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Zero&quot;</SPAN>))&nbsp;</CODE></BLOCKQUOTE><P></P><P></P><DIV id="figure.geometry5.gif"><HR><P><A name="figure.geometry5.gif"></A></P><DIV align="center"><IMG alt="" src="geometry5.gif"></DIV><P class="caption"><STRONG>Figure&nbsp;2.5.</STRONG></P><HR></DIV><P></P><P></P><P>As the text labels aren't the same width, the buttons are not vertically centered. There is a command to achieve this : <CODE>newline</CODE>. </P><P></P><BLOCKQUOTE class="code"><CODE>lr(button(value:<SPAN class="string">&quot;One&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Two&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Three&quot;</SPAN>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newline<BR>&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Four&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Five&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Six&quot;</SPAN>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newline<BR>&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Seven&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Height&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Nine&quot;</SPAN>)&nbsp;newline<BR>&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Zero&quot;</SPAN>))&nbsp;</CODE></BLOCKQUOTE><P></P><P></P><DIV id="figure.geometry6.gif"><HR><P><A name="figure.geometry6.gif"></A></P><DIV align="center"><IMG alt="" src="geometry6.gif"></DIV><P class="caption"><STRONG>Figure&nbsp;2.6.</STRONG></P><HR></DIV><P></P><P></P><P><CODE>newline</CODE> introduces a new line (or column for the <CODE>td</CODE> widget) with a grid structure, such that widgets are aligned on several lines.</P><P></P><P>Another uselfull command is <CODE>empty</CODE> which leaves an empty space : </P><P></P><BLOCKQUOTE class="code"><CODE>lr(button(value:<SPAN class="string">&quot;One&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Two&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Three&quot;</SPAN>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newline<BR>&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Four&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Five&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Six&quot;</SPAN>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newline<BR>&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Seven&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Height&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;Nine&quot;</SPAN>)&nbsp;newline<BR>&nbsp;&nbsp;&nbsp;empty&nbsp;button(value:<SPAN class="string">&quot;Zero&quot;</SPAN>)&nbsp;empty)&nbsp;</CODE></BLOCKQUOTE><P></P><P></P><DIV id="figure.geometry7.gif"><HR><P><A name="figure.geometry7.gif"></A></P><DIV align="center"><IMG alt="" src="geometry7.gif"></DIV><P class="caption"><STRONG>Figure&nbsp;2.7.</STRONG></P><HR></DIV><P></P><P></P><P>Note that <CODE>newline</CODE> and <CODE>empty</CODE> are not widgets and that they don't have any parameter (they don't have a glue or a handle parameter for instance). </P><P> </P></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="index.html">- Up -</A></TD><TD><A href="node5.html#chapter.handle">Next &gt;&gt;</A></TD></TR></TABLE><HR><ADDRESS>Donatien Grolaux<BR><SPAN class="version">Version 1.3.0 (20010902)</SPAN></ADDRESS></BODY></HTML>
