<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>2.5 QHTML Look and alias functionalities</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node7.html#chapter.browser">&lt;&lt; Prev</A></TD><TD><A href="index.html">- Up -</A></TD><TD><A href="node9.html#chapter.widget.anchor">Next &gt;&gt;</A></TD></TR></TABLE><DIV id="chapter.look"><H2><A name="chapter.look">2.5 QHTML Look and alias functionalities</A></H2><P>It is common to have parameters repeated over and over for all widgets in a container of the window, or for all widgets of the same type inside the window. For example, the <CODE>backgroungColor</CODE> of many widgets may be set to the same value (<CODE>red</CODE> for example) to give a uniform background to the window. QHTML provides two functionalities to define parameters in a global way : looks and aliases. Note that they share the same two limitations :</P><P></P><UL><LI><P>Looks and aliases define parameters statically, ie only when building the window. Changing a look or alias after the window construction is not reflected inside windows already built.</P><P></P></LI><LI><P>A technical limitation makes the <CODE>glue</CODE> parameter only partially supported : container widgets don't take their children widgets looks and aliases into account. As a result, if a contained widget has a <CODE>glue</CODE> parameter defined in a <CODE>look</CODE> or <CODE>alias</CODE>, it is considered by its container widget to be not glued at all, and the default behavior for <CODE>glue</CODE> will be used (ie take the minimal horizontal and vertical space required to draw the widget). Note that contained widgets will take the <CODE>glue</CODE> parameter from aliases and looks correctly into account, however the application of this parameter will be limited to the space they received from their container widget. Example : </P><P></P><BLOCKQUOTE class="code"><CODE>MyLook={QTk<SPAN class="keyword">.</SPAN>newLook}<BR>{MyLook<SPAN class="keyword">.</SPAN>set&nbsp;button(glue:nswe)}<BR>{{QHTML<SPAN class="keyword">.</SPAN>build&nbsp;toplevel(lr(button(value:<SPAN class="string">&quot;1&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;2&quot;</SPAN>&nbsp;look:MyLook)&nbsp;newline<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;3&quot;</SPAN>)&nbsp;button(value:<SPAN class="string">&quot;4&quot;</SPAN>)))}&nbsp;show}</CODE></BLOCKQUOTE><P></P><P></P></LI></UL><P>Note that you can mix aliases and looks together. Parameters defined by looks have a higher prior than those defined by aliases.</P><P></P><H3><A name="label12">2.5.1 Looks</A></H3><P></P><P>Looks define a set of default value associated to widgets. Looks are automatically passed from container widgets to their contained widgets. Looks are a very convenient way to define all default parameters for a rectangular area of the window. A look is created by <CODE>QHTML<SPAN class="keyword">.</SPAN>newLook</CODE>. A look furnishes two procedures as features of the look:</P><P></P><UL><LI><P><CODE>set</CODE>: a one parameter procedure whose parameter defines a look entry. A look entry is a record whose label is the name of the widget, and whose features are the default values defined by that entry. Any parameters can be used, but not all will work correctly when building the window. For example, defining a default value for the <CODE>handle</CODE> parameter will make all these widgets try to use the same <CODE>handle</CODE> which will trigger errors at window construction time. Note that you can define an arbitrary number of default values for distinc parameters in a single <CODE>set</CODE>. Note that successive <CODE>set</CODE> will overwrite previous ones.</P><P></P></LI><LI><P><CODE>get</CODE>: a one parameter function that returns the value of the entry given as parameter. </P><P></P></LI></UL><P>All widgets (almost) support the <CODE>look</CODE> parameter that can be specified a QHTML <CODE>look</CODE>.</P><P></P><BLOCKQUOTE class="code"><CODE><SPAN class="keyword">local</SPAN>&nbsp;<BR>&nbsp;&nbsp;MyLook={QHTML<SPAN class="keyword">.</SPAN>newLook}<BR>&nbsp;&nbsp;{MyLook<SPAN class="keyword">.</SPAN>set&nbsp;button(backgroundColor:red)}<BR>&nbsp;&nbsp;{MyLook<SPAN class="keyword">.</SPAN>set&nbsp;label(backgroundColor:red)}<BR><SPAN class="keyword">in</SPAN>&nbsp;<BR>&nbsp;&nbsp;{{QHTML<SPAN class="keyword">.</SPAN>build&nbsp;toplevel(look:MyLook<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;td(label(value:<SPAN class="string">&quot;Hello&nbsp;world&quot;</SPAN>)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label(value:<SPAN class="string">&quot;Amazing&nbsp;colors&nbsp;!&quot;</SPAN>)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Ok&quot;</SPAN>)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;button(value:<SPAN class="string">&quot;Ok&nbsp;also&quot;</SPAN>)))}&nbsp;show}<BR><SPAN class="keyword">end</SPAN></CODE></BLOCKQUOTE><P></P><P></P><H3><A name="label13">2.5.2 Aliases</A></H3><P></P><P>An alias defines another name for a widget, a name that is associated to a set of default parameters. Aliases are well adapted to define default values to a specific kind of widgets that are spread throughout entire windows. QHTML provides:</P><P></P><UL><LI><P><CODE>{QHTML<SPAN class="keyword">.</SPAN>setAlias&nbsp;Name&nbsp;Ref}</CODE>: create an alias of the name <CODE>Name</CODE> (an atom). <CODE>Ref</CODE> is a record whose label is the name of the widget the alias is using, and whose parameters are the default values to use with the alias.</P><P></P></LI><LI><P><CODE>{QHTML<SPAN class="keyword">.</SPAN>unSetAlias&nbsp;Name}</CODE>: unset the alias named <CODE>Name</CODE>. Any further attempt to use that alias will raise an exception.</P><P></P></LI></UL><P></P><BLOCKQUOTE class="code"><CODE>{QHTML<SPAN class="keyword">.</SPAN>setAlias&nbsp;redLabel&nbsp;label(backgroundColor:red)}<BR>{QHTML<SPAN class="keyword">.</SPAN>setAlias&nbsp;yellowLabel&nbsp;label(backgroundColor:yellow)}<BR>{{QHTML<SPAN class="keyword">.</SPAN>build&nbsp;toplevel(td(redLabel(value:<SPAN class="string">&quot;This&nbsp;label&nbsp;is&nbsp;red&quot;</SPAN>)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yellowLabel(value:<SPAN class="string">&quot;This&nbsp;label&nbsp;is&nbsp;yellow&quot;</SPAN>)))}&nbsp;show}<BR></CODE></BLOCKQUOTE><P> </P></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node7.html#chapter.browser">&lt;&lt; Prev</A></TD><TD><A href="index.html">- Up -</A></TD><TD><A href="node9.html#chapter.widget.anchor">Next &gt;&gt;</A></TD></TR></TABLE><HR><ADDRESS>Donatien Grolaux<BR><SPAN class="version">Version 1.3.0 (20010902)</SPAN></ADDRESS></BODY></HTML>
