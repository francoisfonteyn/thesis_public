<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>8.8 Text fonts</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node41.html#misc.cursor">&lt;&lt; Prev</A></TD><TD><A href="node34.html">- Up -</A></TD><TD><A href="node43.html#misc.winfo">Next &gt;&gt;</A></TD></TR></TABLE><DIV id="misc.font"><H2><A name="misc.font">8.8 Text fonts</A></H2><H3><A name="label177">8.8.1 Description</A></H3><P>Fonts are obtained by the <CODE>QTk<SPAN class="keyword">.</SPAN>newFont</CODE> function. The only parameter of that function is a record describing the font in the following form: <CODE>font(param1:value1&nbsp;<SPAN class="keyword">...</SPAN>&nbsp;paramX:valueX)</CODE>. Once obtained, a font can be used several times in different contexts (parameters of different widgets for example). Fonts can also be dynamically reconfigured and all widgets using the font redisplays themselves using the new attributes.</P><H3><A name="label178">8.8.2 Parameters</A></H3><P></P><UL><LI><P><CODE>family:VS</CODE>: The case-insensitive font family name. The following families are guaranteed to exist on all platforms: <CODE>Courier</CODE> (a monospaced ``typewriter'' font), <CODE>Times</CODE> (a serifed ``newspaper'' font), and <CODE>Helvetica</CODE> (a sans-serif ``European'' font). The most closely matching native font family will automatically be substituted when one of the above font families is used. The name may also be the name of a native, platform-specific font family; in that case it will work as desired on one platform but may not display correctly on other platforms. If the family is unspecified or unrecognized, a platform-specific default font will be chosen. </P></LI><LI><P><CODE>size:I</CODE>: The desired size of the font. If <CODE>I</CODE> is a positive number, it is interpreted as a size in points. If <CODE>I</CODE> is a negative number, its absolute value is interpreted as a size in pixels. If a font cannot be displayed at the specified size, a nearby size will be chosen. If size is unspecified or zero, a platform-dependent default size will be chosen. Sizes should normally be specified in points so the application will remain the same ruler size on the screen, even when changing screen resolutions or moving scripts across platforms. However, specifying pixels is useful in certain circumstances such as when a piece of text must line up with respect to a fixed-size bitmap. </P></LI><LI><P><CODE>weight:A</CODE>: The nominal thickness of the characters in the font. The atom <CODE>normal</CODE> specifies a normal weight font, while <CODE>bold</CODE> specifies a bold font. The closest available weight to the one specified will be chosen. The default weight is <CODE>normal</CODE>. </P></LI><LI><P><CODE>slant:A</CODE>: The amount the characters in the font are slanted away from the vertical. Valid values for slant are the atoms <CODE>roman</CODE> and <CODE>italic</CODE>. A roman font is the normal, upright appearance of a font, while an italic font is one that is tilted some number of degrees from upright. The closest available slant to the one specified will be chosen. The default slant is <CODE>roman</CODE>. </P></LI><LI><P><CODE>underline:B</CODE>: Specifies whether characters in this font should be underlined. The default value for <CODE>underline</CODE> is <CODE><SPAN class="keyword">false</SPAN></CODE>. <CODE>B</CODE> must be a boolean value. </P></LI><LI><P><CODE>overstrike:B</CODE>: Specifies whether a horizontal line should be drawn through the middle of characters in this font. The default value for <CODE>overstrike</CODE> is <CODE><SPAN class="keyword">false</SPAN></CODE>. <CODE>B</CODE> must be a boolean value. </P></LI></UL><P> </P><H3><A name="label179">8.8.3 Interface</A></H3><P>Fonts obtained by <CODE>Qtk<SPAN class="keyword">.</SPAN>newFont</CODE> are objects that support the following methods: </P><UL><LI><P><CODE>set(parameter1:value1&nbsp;<SPAN class="keyword">...</SPAN>&nbsp;parameterX:valueX)</CODE>: Changes the value of one or more parameters. <CODE>parameterX</CODE> must be a valid parameter for the widget. <CODE>valueX</CODE> must be a valid value for the parameter.</P></LI><LI><P><CODE>get(parameter1:Variable1&nbsp;<SPAN class="keyword">...</SPAN>&nbsp;parameterX:VariableX)</CODE>: Obtains the value of one or more parameters. <CODE>parameterX</CODE> must be a valid parameter for the widget. <CODE>VariableX</CODE> must be free variables that will receive the current value of the parameters. </P></LI><LI><P><CODE>delete</CODE>: Delete the font. If there are widgets using that font, it won't actually be deleted until all the instances are released. Those widgets will continue to display using the last known values for the font. </P></LI><LI><P><CODE>families(V)</CODE>: Binds <CODE>V</CODE> to a list a string containing all available font families on the platform. </P></LI><LI><P><CODE>measure(VS&nbsp;V&nbsp;?displayof:D)</CODE>: Binds <CODE>V</CODE> to the amount of space the string <CODE>VS</CODE> would use in the given font when displayed in the window <CODE>D</CODE>. If the window <CODE>D</CODE> argument is omitted, it defaults to the main window. The return value is the total width in pixels of text, not including the extra pixels used by highly exaggerated characters such as cursive ``f''. If the string contains newlines or tabs, those characters are not expanded or treated specially when measuring the string. </P></LI><LI><P><CODE>metrics(A&nbsp;V&nbsp;?displayof:D</CODE>: Binds <CODE>V</CODE> to metrics information of the font (font-specific data) when displayed in the window <CODE>D</CODE> or in the main window is the <CODE>displayof</CODE> parameter is not specified. The returned information depends on the value of <CODE>A</CODE>: </P><UL><LI><P><CODE>ascent</CODE>: The amount in pixels that the tallest letter sticks up above the baseline of the font, plus any extra blank space added by the designer of the font. </P></LI><LI><P><CODE>descent</CODE>: The largest amount in pixels that any letter sticks down below the baseline of the font, plus any extra blank space added by the designer of the font. </P></LI><LI><P><CODE>linespace</CODE>: Returns how far apart vertically in pixels two lines of text using the same font should be placed so that none of the characters in one line overlap any of the characters in the other line. This is generally the sum of the ascent above the baseline line plus the descent below the baseline. </P></LI><LI><P><CODE>fixed</CODE>: Returns a boolean flag that is ``1'' if this is a fixed-width font, where each normal character is the same width as all the other characters, or is ``0'' if this is a proportionally-spaced font, where individual characters have different widths. The widths of control characters, tab characters, and other non-printing characters are not included when calculating this value. </P></LI></UL><P> </P></LI></UL><P> </P></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node41.html#misc.cursor">&lt;&lt; Prev</A></TD><TD><A href="node34.html">- Up -</A></TD><TD><A href="node43.html#misc.winfo">Next &gt;&gt;</A></TD></TR></TABLE><HR><ADDRESS>Donatien Grolaux<BR><SPAN class="version">Version 1.3.0 (20040413)</SPAN></ADDRESS></BODY></HTML>
