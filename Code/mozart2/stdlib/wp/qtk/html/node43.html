<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>8.9 Window-related information</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node42.html#misc.font">&lt;&lt; Prev</A></TD><TD><A href="node34.html">- Up -</A></TD><TD><A href="node44.html#misc.menu">Next &gt;&gt;</A></TD></TR></TABLE><DIV id="misc.winfo"><H2><A name="misc.winfo">8.9 Window-related information</A></H2><P>All widgets have a <CODE>winfo(parameter1:variable1&nbsp;<SPAN class="keyword">...</SPAN>&nbsp;parameterX:variableX)</CODE> method that obtains window-related information. <CODE>parameterX</CODE> must be a valid parameter for the <CODE>winfo</CODE>. <CODE>variableX</CODE> must be a free variable which will receive the current value of the parameter. The parameters for this method are: </P><UL><LI><P><CODE>cells</CODE>: Returns an integer giving the number of cells in the color map for window. </P></LI><LI><P><CODE>colormapfull</CODE>: Returns <CODE><SPAN class="keyword">true</SPAN></CODE> if the colormap for window is known to be full, <CODE><SPAN class="keyword">false</SPAN></CODE> otherwise. The colormap for a window is known to be full if the last attempt to allocate a new color on that window failed and this application hasn't freed any colors in the colormap since the failed allocation. </P></LI><LI><P><CODE>depth</CODE>: Returns an integer giving the depth of window (number of bits per pixel). </P></LI><LI><P><CODE>fpixels</CODE>: Returns a one-parameter function. Giving a valid screen distance to this function (see <A href="node40.html#misc.distance">Section&nbsp;8.6</A>) returns a floating-point value giving the number of pixels in the widget corresponding to that distance. The return value may be fractional; for an integer value, use <CODE>winfo(pixels:V)</CODE>. </P></LI><LI><P><CODE>geometry</CODE>: Returns a record of the form <CODE>geometry(width:W&nbsp;height:H&nbsp;x:X&nbsp;y:Y)</CODE> describing the size and position of the widget inside its parent. </P></LI><LI><P><CODE>height</CODE>: Returns an integer giving widget's height in pixels. When a window is first created its height will be 1 pixel; the height will eventually be changed by a geometry manager to fulfill the window's needs. If you need the true height immediately after creating a widget, invoke update to force the geometry manager to arrange it, or use <CODE>winfo(reqheight:N)</CODE> to get the window's requested height instead of its actual height. </P></LI><LI><P><CODE>id</CODE>: Returns a string giving a low-level platform-specific identifier for window. On Unix platforms, this is the X window identifier. Under Windows, this is the Windows HWND. </P></LI><LI><P><CODE>ismapped</CODE>: Returns <CODE><SPAN class="keyword">true</SPAN></CODE> if the widget is currently mapped, <CODE><SPAN class="keyword">false</SPAN></CODE> otherwise. </P></LI><LI><P><CODE>name</CODE>: Returns widget's Tk name (i.e. its name within its parent, as opposed to its full path name). </P></LI><LI><P><CODE>parent</CODE>: Returns the Tk path name of widget's parent, or an empty string if window is the main window of the application. </P></LI><LI><P><CODE>pixels</CODE>: Returns a one-parameter function. Giving a valid screen distance to this function (see <A href="node40.html#misc.distance">Section&nbsp;8.6</A>) returns an integer value giving the number of pixels in the widget corresponding to that distance. The value is rounded to the nearest fractional value; for a fractional value, use <CODE>winfo(fpixels:V)</CODE>. </P></LI><LI><P><CODE>pointerx</CODE>: If the mouse pointer is on the same screen as the widget, returns an integer that is the pointer's x coordinate, measured in pixels in the screen's root window. If a virtual root window is in use on the screen, the position is measured in the virtual root. If the mouse pointer isn't on the same screen as the widget then -1 is returned. </P></LI><LI><P><CODE>pointery</CODE>: If the mouse pointer is on the same screen as the widget, returns an integer that is the pointer's y coordinate, measured in pixels in the screen's root window. If a virtual root window is in use on the screen, the position is measured in the virtual root. If the mouse pointer isn't on the same screen as the widget then -1 is returned. </P></LI><LI><P><CODE>pointerxy</CODE>: If the mouse pointer is on the same screen as the widget, returns a record of the form <CODE>pointerxy(x:X&nbsp;y:Y)</CODE> with <CODE>X</CODE> and <CODE>Y</CODE> being integers that are the pointer's coordinate, measured in pixels in the screen's root window. If a virtual root window is in use on the screen, the position is measured in the virtual root. If the mouse pointer isn't on the same screen as the widget then -1 is returned for both <CODE>X</CODE> and <CODE>Y</CODE>. </P></LI><LI><P><CODE>reqheight</CODE>: Returns an integer giving widget's requested height, in pixels. This is the value used by window's geometry manager to compute its geometry. </P></LI><LI><P><CODE>reqwidth</CODE>: Returns an integer giving widget's requested width, in pixels. This is the value used by window's geometry manager to compute its geometry. </P></LI><LI><P><CODE>rgb</CODE>: Returns a one-parameter function. Giving a valid color (see <A href="node36.html#misc.color">Section&nbsp;8.2</A>) to this function, it returns a record of the form <CODE>rgb(red:R&nbsp;green:G&nbsp;blue:B)</CODE> which are the red, green, and blue intensities that correspond to the color in the widget. </P></LI><LI><P><CODE>rootx</CODE>: Returns an integer giving the x-coordinate, in the root window of the screen, of the upper-left corner of the widget's border </P></LI><LI><P><CODE>rooty</CODE>: Returns an integer giving the y-coordinate, in the root window of the screen, of the upper-left corner of the widget's border </P></LI><LI><P><CODE>screen</CODE>: Returns a string that is the name of the screen associated with the widget, in the form displayName.screenIndex. </P></LI><LI><P><CODE>screencells</CODE>: Returns an integer giving the number of cells in the default color map for the widget's screen. </P></LI><LI><P><CODE>screendepth</CODE>: Returns a decimal string giving the depth of the root window of the widget's screen (number of bits per pixel). </P></LI><LI><P><CODE>screenheight</CODE>: Returns an integer giving the height of window's screen, in pixels. </P></LI><LI><P><CODE>screenmmheight</CODE>: Returns an integer giving the height of window's screen, in millimeters. </P></LI><LI><P><CODE>screenmmwidtht</CODE>: Returns an integer giving the width of window's screen, in millimeters. </P></LI><LI><P><CODE>screenvisual</CODE>: Returns one of the following atoms to indicate the default visual class for the widget's screen: <CODE>directcolor</CODE>, <CODE>grayscale</CODE>, <CODE>pseudocolor</CODE>, <CODE>staticcolor</CODE>, <CODE>staticgray</CODE>, or <CODE>truecolor</CODE>. </P></LI><LI><P><CODE>screenwidth</CODE>: Returns an integer giving the width of the widget's screen, in pixels. </P></LI><LI><P><CODE>server</CODE>: Returns a string containing information about the server for the widget's display. The exact format of this string may vary from platform to platform. For X servers the string has the form ``XmajorRminor vendor vendorVersion'' where major and minor are the version and revision numbers provided by the server (e.g., X11R5), vendor is the name of the vendor for the server, and vendorRelease is an integer release number provided by the server. </P></LI><LI><P><CODE>toplevel</CODE>: Returns a handle to the toplevel window of the widget. </P></LI><LI><P><CODE>viewable</CODE>: Returns <CODE><SPAN class="keyword">true</SPAN></CODE> if the widget and all of its ancestors up through the nearest toplevel window are mapped. Returns <CODE><SPAN class="keyword">false</SPAN></CODE> if any of these windows are not mapped. </P></LI><LI><P><CODE>visual</CODE>: Returns one of the following atoms to indicate the visual class for the widget: <CODE>directcolor</CODE>, <CODE>grayscale</CODE>, <CODE>pseudocolor</CODE>, <CODE>staticcolor</CODE>, <CODE>staticgray</CODE>, or <CODE>truecolor</CODE>. </P></LI><LI><P><CODE>visualid</CODE>: Returns a string that is the X identifier for the visual for the widget. </P></LI><LI><P><CODE>visualsavailable</CODE>: Returns a list of records of the form <CODE>visual(visual:A&nbsp;depth:I&nbsp;id:VS)</CODE> with <CODE>A</CODE> and atom describing a visual class, <CODE>I</CODE> an integer and <CODE>VS</CODE> a string which is an X identifier. The list is composed of all the different visuals available on the screen that display's the widget. </P></LI><LI><P><CODE>vrootheight</CODE>: Returns an integer that is the height of the virtual root window associated with the widget if there is one; otherwise returns the height of the widget's screen. </P></LI><LI><P><CODE>vrootwidth</CODE>: Returns an integer that is the width of the virtual root window associated with the widget if there is one; otherwise returns the width of the widget's screen. </P></LI><LI><P><CODE>vrootx</CODE>: Returns an integer that is the x-offset of the virtual root window associated with the widget, relative to the root window of its screen. This is normally either zero or negative. Returns 0 if there is no virtual root window for the widget. </P></LI><LI><P><CODE>vrooty</CODE>: Returns an integer that is the y-offset of the virtual root window associated with the widget, relative to the root window of its screen. This is normally either zero or negative. Returns 0 if there is no virtual root window for the widget. </P></LI><LI><P><CODE>width</CODE>: Returns an integer giving widget's width in pixels. When a window is first created its width will be 1 pixel; the width will eventually be changed by a geometry manager to fulfill the window's needs. If you need the true width immediately after creating a widget, invoke update to force the geometry manager to arrange it, or use <CODE>winfo(reqwidth:N)</CODE> to get the window's requested width instead of its actual width. </P></LI><LI><P><CODE>x</CODE>: Returns an integer giving the x-coordinate, in widget's parent, of the upper-left corner of widget's border. </P></LI><LI><P><CODE>y</CODE>: Returns an integer giving the y-coordinate, in widget's parent, of the upper-left corner of widget's border. </P></LI></UL><P> </P></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node42.html#misc.font">&lt;&lt; Prev</A></TD><TD><A href="node34.html">- Up -</A></TD><TD><A href="node44.html#misc.menu">Next &gt;&gt;</A></TD></TR></TABLE><HR><ADDRESS>Donatien Grolaux<BR><SPAN class="version">Version 1.3.0 (20040413)</SPAN></ADDRESS></BODY></HTML>
