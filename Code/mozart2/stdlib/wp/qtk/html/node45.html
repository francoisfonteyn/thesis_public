<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>8.11 Event binding parameters</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node44.html#misc.menu">&lt;&lt; Prev</A></TD><TD><A href="node34.html">- Up -</A></TD><TD><A href="node46.html#misc.reference">Next &gt;&gt;</A></TD></TR></TABLE><DIV id="misc.events"><H2><A name="misc.events">8.11 Event binding parameters</A></H2><DIV id="misc.events.names"><H3><A name="misc.events.names">8.11.1 Event Patterns</A></H3><P>An event pattern may take one of two forms. In the simplest case it is a single printing ASCII character, such as a or [. The character may not be a space character or the character <CODE><SPAN class="keyword">&lt;</SPAN></CODE>. This form of pattern matches a <CODE>KeyPress</CODE> event for the particular character. The second form of pattern is longer but more general. It is a virtual string of the form: </P><BLOCKQUOTE class="code"><CODE><SPAN class="string">&quot;&lt;modifier-modifier-type-detail&gt;&quot;</SPAN></CODE></BLOCKQUOTE><P> The entire event pattern is surrounded by angle brackets. Inside the angle brackets are zero or more modifiers, an event type, and an extra piece of information (detail) identifying a particular button or keysym. Any of the fields may be omitted, as long as at least one of type and detail is present. The fields must be separated by white space or dashes. </P><P><EM>MODIFIERS</EM></P><P>Modifiers consist of any of the following values: </P><TABLE align="center" bgcolor="#f0f0e0" id="table.misc.events.event"><TR valign="top"><TH colspan="2"><P>Event Modifier</P></TH></TR><TR valign="top"><TD><P><CODE>Control</CODE></P></TD><TD><P><CODE>Mod2</CODE>, <CODE>M2</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Shift</CODE></P></TD><TD><P><CODE>Mod3</CODE>, <CODE>M3</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Lock</CODE></P></TD><TD><P><CODE>Mod4</CODE>, <CODE>M4</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Button1</CODE>, <CODE>B1</CODE></P></TD><TD><P><CODE>Mod5</CODE>, <CODE>M5</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Button2</CODE>, <CODE>B2</CODE></P></TD><TD><P><CODE>Meta</CODE>, <CODE>M</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Button3</CODE>, <CODE>B3</CODE></P></TD><TD><P><CODE>Alt</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Button4</CODE>, <CODE>B4</CODE></P></TD><TD><P><CODE>Double</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Button5</CODE>, <CODE>B5</CODE></P></TD><TD><P><CODE>Triple</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Mod1</CODE>, <CODE>M1</CODE></P></TD><TD><P><CODE>Quadruple</CODE></P></TD></TR></TABLE><P> Where more than one value is listed, separated by commas, the values are equivalent. Most of the modifiers have the obvious X meanings. For example, <CODE>Button1</CODE> requires that button 1 be depressed when the event occurs. For a binding to match a given event, the modifiers in the event must include all of those specified in the event pattern. An event may also contain additional modifiers not specified in the binding. For example, if button 1 is pressed while the shift and control keys are down, the pattern <CODE><SPAN class="keyword">&lt;</SPAN>Control<SPAN class="keyword">-</SPAN>Button<SPAN class="keyword">-</SPAN>1<SPAN class="keyword">&gt;</SPAN></CODE> will match the event, but <CODE><SPAN class="keyword">&lt;</SPAN>Mod1<SPAN class="keyword">-</SPAN>Button<SPAN class="keyword">-</SPAN>1<SPAN class="keyword">&gt;</SPAN></CODE> will not. If no modifiers are specified, then any combination of modifiers may be present in the event. </P><P><CODE>Meta</CODE> and <CODE>M</CODE> refer to whichever of the <CODE>M1</CODE> through <CODE>M5</CODE> modifiers is associated with the meta key(s) on the keyboard (keysyms <CODE>Meta_R</CODE> and <CODE>Meta_L</CODE>). If there are no meta keys, or if they are not associated with any modifiers, then <CODE>Meta</CODE> and <CODE>M</CODE> will not match any events. Similarly, the <CODE>Alt</CODE> modifier refers to whichever modifier is associated with the alt key(s) on the keyboard (keysyms <CODE>Alt_L</CODE> and <CODE>Alt_R</CODE>). </P><P>The <CODE>Double</CODE>, <CODE>Triple</CODE> and <CODE>Quadruple</CODE> modifiers are a convenience for specifying double mouse clicks and other repeated events. They cause a particular event pattern to be repeated 2, 3 or 4 times, and also place a time and space requirement on the sequence: for a sequence of events to match a <CODE>Double</CODE>, <CODE>Triple</CODE> or <CODE>Quadruple</CODE> pattern, all of the events must occur close together in time and without substantial mouse motion in between. For example, <CODE><SPAN class="keyword">&lt;</SPAN>Double<SPAN class="keyword">-</SPAN>Button<SPAN class="keyword">-</SPAN>1<SPAN class="keyword">&gt;</SPAN></CODE> is equivalent to <CODE><SPAN class="keyword">&lt;</SPAN>Button<SPAN class="keyword">-</SPAN>1<SPAN class="keyword">&gt;&lt;</SPAN>Button<SPAN class="keyword">-</SPAN>1<SPAN class="keyword">&gt;</SPAN></CODE> with the extra time and space requirement. </P><P><EM>EVENT TYPES</EM></P><P>The type field may be any of the standard X event types, with a few extra abbreviations. The type field will also accept a couple non-standard X event types that were added to better support the Macintosh and Windows platforms. Below is a list of all the valid types; where two names appear together, they are synonyms. </P><TABLE align="center" bgcolor="#f0f0e0"><TR valign="top"><TH colspan="3"><P>Event Type</P></TH></TR><TR valign="top"><TD><P><CODE>Active</CODE></P></TD><TD><P><CODE>Enter</CODE></P></TD><TD><P><CODE>Map</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>ButtonPress</CODE>, <CODE>Button</CODE></P></TD><TD><P><CODE>Expose</CODE></P></TD><TD><P><CODE>Motion</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>ButtonRelease</CODE></P></TD><TD><P><CODE>FocusIn</CODE></P></TD><TD><P><CODE>MouseWheel</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Circulate</CODE></P></TD><TD><P><CODE>FocusOut</CODE></P></TD><TD><P><CODE>Property</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Colormap</CODE></P></TD><TD><P><CODE>Gravity</CODE></P></TD><TD><P><CODE>Reparent</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Configure</CODE></P></TD><TD><P><CODE>KeyPress</CODE>, <CODE>Key</CODE></P></TD><TD><P><CODE>Unmap</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Deactivate</CODE></P></TD><TD><P><CODE>KeyRelease</CODE></P></TD><TD><P><CODE>Visibility</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>Destroy</CODE></P></TD><TD><P><CODE>Leave</CODE></P></TD></TR></TABLE><P> Most of the above events have the same fields and behaviors as events in the X Windowing system. You can find more detailed descriptions of these events in any X window programming book. A couple of the events are extensions to the X event system to support features unique to the Macintosh and Windows platforms. We provide a little more detail on these events here. These include: </P><UL><LI><P><CODE>Activate</CODE></P></LI><LI><P><CODE>Deactivate</CODE>: These two events are sent to every sub-window of a toplevel when they change state. In addition to the focus Window, the Macintosh platform and Windows platforms have a notion of an active window (which often has but is not required to have the focus). On the Macintosh, widgets in the active window have a different appearance than widgets in deactive windows. The Activate event is sent to all the sub-windows in a toplevel when it changes from being deactive to active. Likewise, the Deactive event is sent when the window's state changes from active to deactive. There are no useful percent substitutions you would make when binding to these events. </P></LI><LI><P><CODE>MouseWheel</CODE>: Some mice on the Windows platform support a mouse wheel which is used for scrolling documents without using the scrollbars. By rolling the wheel, the system will generate MouseWheel events that the application can use to scroll. Like Key events the event is always routed to the window that currently has focus. When the event is received you can use the <CODE>D</CODE> substitution to get the delta field for the event that is an integer value of motion that the mouse wheel has moved. The smallest value for which the system will report is defined by the OS. On Windows 95 &amp; 98 machines this value is at least 120 before it is reported. However, higher resolution devices may be available in the future. The sign of the value determines which direction your widget should scroll. Positive values should scroll up and negative values should scroll down. </P></LI></UL><P> The last part of a long event specification is detail. In the case of a <CODE>ButtonPress</CODE> or <CODE>ButtonRelease</CODE> event, it is the number of a button (1-5). If a button number is given, then only an event on that particular button will match; if no button number is given, then an event on any button will match. Note: giving a specific button number is different than specifying a button modifier; in the first case, it refers to a button being pressed or released, while in the second it refers to some other button that is already depressed when the matching event occurs. If a button number is given then type may be omitted: if will default to <CODE>ButtonPress</CODE>. For example, the specifier <CODE><SPAN class="keyword">&lt;</SPAN>1<SPAN class="keyword">&gt;</SPAN></CODE> is equivalent to <CODE><SPAN class="keyword">&lt;</SPAN>ButtonPress<SPAN class="keyword">-</SPAN>1<SPAN class="keyword">&gt;</SPAN></CODE>. </P><P>If the event type is <CODE>KeyPress</CODE> or <CODE>KeyRelease</CODE>, then detail may be specified in the form of an X keysym. Keysyms are textual specifications for particular keys on the keyboard; they include all the alphanumeric ASCII characters (e.g. <CODE><SPAN class="string">&quot;a&quot;</SPAN></CODE> is the keysym for the ASCII character <CODE>a</CODE>), plus descriptions for non-alphanumeric characters (<CODE><SPAN class="string">&quot;comma&quot;</SPAN></CODE> is the keysym for the comma character), plus descriptions for all the non-ASCII keys on the keyboard (<CODE><SPAN class="string">&quot;Shift_L&quot;</SPAN></CODE> is the keysm for the left shift key, and <CODE><SPAN class="string">&quot;F1&quot;</SPAN></CODE> is the keysym for the F1 function key, if it exists). The complete list of keysyms is not presented here; it is available in other X documentation and may vary from system to system. If necessary, you can use the <CODE><SPAN class="string">&quot;K&quot;</SPAN></CODE> notation described below to print out the keysym name for a particular key. If a keysym detail is given, then the type field may be omitted; it will default to <CODE><SPAN class="string">&quot;KeyPress&quot;</SPAN></CODE>. For example, <CODE><SPAN class="keyword">&lt;</SPAN>Control<SPAN class="keyword">-</SPAN>comma<SPAN class="keyword">&gt;</SPAN></CODE> is equivalent to <CODE><SPAN class="keyword">&lt;</SPAN>Control<SPAN class="keyword">-</SPAN>KeyPress<SPAN class="keyword">-</SPAN>comma<SPAN class="keyword">&gt;</SPAN></CODE>. </P></DIV><DIV id="misc.events.args"><H3><A name="misc.events.args">8.11.2 Event Arguments</A></H3><P> The <CODE>args</CODE> option of the <CODE>bind</CODE> method takes a list of argument specifications. An argument specification describes the type of the argument and the argument itself. <A href="node45.html#misc.events.event-args">Figure&nbsp;8.1</A> shows the valid types. Actual types used are the trivial mapping from the specified type. When the event is raised, all specified arguments are appended to the <CODE>action</CODE> to execute in the order they appear in the list. Below is a list of all the valid arguments; where two names appear together, they are synonyms. </P><DIV id="misc.events.event-args"><HR><P><A name="misc.events.event-args"></A></P><P> </P><TABLE align="center" bgcolor="#f0f0e0" id="table.misc.events.event-args"><TR valign="top"><TH colspan="4"><P>Argument Type</P></TH></TR><TR valign="top"><TD><P><CODE>string(</CODE><CODE><I>A</I></CODE><CODE>)</CODE>, <CODE><I>A</I></CODE></P></TD><TD><P><CODE>atom(</CODE><CODE><I>A</I></CODE><CODE>)</CODE></P></TD><TD><P><CODE>int(</CODE><CODE><I>A</I></CODE><CODE>)</CODE></P></TD><TD><P><CODE>float(</CODE><CODE><I>A</I></CODE><CODE>)</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>list(string(</CODE><CODE><I>A</I></CODE><CODE>))</CODE>, <CODE>list(</CODE><CODE><I>A</I></CODE><CODE>)</CODE></P></TD><TD><P><CODE>list(atom(</CODE><CODE><I>A</I></CODE><CODE>))</CODE></P></TD><TD><P><CODE>list(int(</CODE><CODE><I>A</I></CODE><CODE>))</CODE></P></TD><TD><P><CODE>list(float(</CODE><CODE><I>A</I></CODE><CODE>))</CODE></P></TD></TR></TABLE><P> </P><P class="caption"><STRONG>Figure&nbsp;8.1:</STRONG> Event arguments.</P><HR></DIV><P> <EM>Argument codes</EM> </P><UL><LI><P><CODE>b</CODE>: The number of the button that was pressed or released. Valid only for <CODE>ButtonPress</CODE> and <CODE>ButtonRelease</CODE> events. </P></LI><LI><P><CODE>c</CODE>: The count field from the event. Valid only for <CODE>Expose</CODE> events. </P></LI><LI><P><CODE>d</CODE>: The detail field from the event. For <CODE>Enter</CODE>, <CODE>Leave</CODE>, <CODE>FocusIn</CODE>, and <CODE>FocusOut</CODE> events, the returned string will be one of the following: </P><TABLE align="center" bgcolor="#f0f0e0"><TR valign="top"><TD><P><CODE>NotifyAncestor</CODE></P></TD><TD><P><CODE>NotifyNonlinearVirtual</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>NotifyDetailNone</CODE></P></TD><TD><P><CODE>NotifyPointer</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>NotifyInferior</CODE></P></TD><TD><P><CODE>NotifyPointerRoot</CODE></P></TD></TR><TR valign="top"><TD><P><CODE>NotifyNonlinear</CODE></P></TD><TD><P><CODE>NotifyVirtual</CODE></P></TD></TR></TABLE><P> For events other than these, the substituted string is undefined. </P></LI><LI><P><CODE>f</CODE>: The focus field from the event (0 or 1). Valid only for <CODE>Enter</CODE> and <CODE>Leave</CODE> events. </P></LI><LI><P><CODE>h</CODE>: The height field from the event. Valid for the <CODE>Configure</CODE> and <CODE>Expose</CODE> events. </P></LI><LI><P><CODE>k</CODE>: The keycode field from the event. Valid only for <CODE>KeyPress</CODE> and <CODE>KeyRelease</CODE> events. </P></LI><LI><P><CODE>m</CODE>: The mode field from the event. The substituted string is one of <CODE>NotifyNormal</CODE>, <CODE>NotifyGrab</CODE>, <CODE>NotifyUngrab</CODE>, or <CODE>NotifyWhileGrabbed</CODE>. Valid only for <CODE>Enter</CODE>, <CODE>FocusIn</CODE>, <CODE>FocusOut</CODE>, and <CODE>Leave</CODE> events. </P></LI><LI><P><CODE>o</CODE>: The override_redirect field from the event. Valid only for <CODE>Map</CODE>, <CODE>Reparent</CODE>, and <CODE>Configure</CODE> events.</P></LI><LI><P><CODE>p</CODE>: The place field from the event, substituted as one of the strings <CODE>PlaceOnTop</CODE> or <CODE>PlaceOnBottom</CODE>. Valid only for <CODE>Circulate</CODE> events</P></LI><LI><P><CODE>s</CODE>: The state field from the event. For <CODE>ButtonPress</CODE>, <CODE>ButtonRelease</CODE>, <CODE>Enter</CODE>, <CODE>KeyPress</CODE>, <CODE>KeyRelease</CODE>, <CODE>Leave</CODE>, and <CODE>Motion</CODE> events, a decimal string is substituted. For Visibility, one of the strings <CODE>VisibilityUnobscured</CODE>, <CODE>VisibilityPartiallyObscured</CODE>, and <CODE>VisibilityFullyObscured</CODE> is substituted. </P></LI><LI><P><CODE>t</CODE>: The time field from the event. Valid only for events that contain a time field.</P></LI><LI><P><CODE>w</CODE>: The width field from the event. Valid only for <CODE>Configure</CODE> and <CODE>Expose</CODE> events. </P></LI><LI><P><CODE>x</CODE>: The x field from the event. Valid only for events containing an x field. </P></LI><LI><P><CODE>y</CODE>: The y field from the event. Valid only for events containing a y field. </P></LI><LI><P><CODE><SPAN class="string">'A'</SPAN></CODE>: Substitutes the ASCII character corresponding to the event, or the empty string if the event doesn't correspond to an ASCII character (e.g. the shift key was pressed). XLookupString does all the work of translating from the event to an ASCII character. Valid only for <CODE>KeyPress</CODE> and <CODE>KeyRelease</CODE> events. </P></LI><LI><P><CODE><SPAN class="string">'B'</SPAN></CODE>: The border_width field from the event. Valid only for <CODE>Configure</CODE> events. </P></LI><LI><P><CODE><SPAN class="string">'D'</SPAN></CODE>: This reports the delta value of a <CODE>MouseWheel</CODE> event. The delta value represents the rotation units the mouse wheel has been moved. On Windows 95 &amp; 98 systems the smallest value for the delta is 120. Future systems may support higher resolution values for the delta. The sign of the value represents the direction the mouse wheel was scrolled. </P></LI><LI><P><CODE><SPAN class="string">'E'</SPAN></CODE>: The send_event field from the event. Valid for all event types. </P></LI><LI><P><CODE><SPAN class="string">'K'</SPAN></CODE>: The keysym corresponding to the event, substituted as a textual string. Valid only for <CODE>KeyPress</CODE> and <CODE>KeyRelease</CODE> events. </P></LI><LI><P><CODE><SPAN class="string">'N'</SPAN></CODE>: The keysym corresponding to the event, substituted as a decimal number. Valid only for <CODE>KeyPress</CODE> and <CODE>KeyRelease</CODE> events.</P></LI><LI><P><CODE><SPAN class="string">'R'</SPAN></CODE>: The root window identifier from the event. Valid only for events containing a root field. </P></LI><LI><P><CODE><SPAN class="string">'S'</SPAN></CODE>: The subwindow window identifier from the event, formatted as a hexadecimal number. Valid only for events containing a subwindow field.</P></LI><LI><P><CODE><SPAN class="string">'T'</SPAN></CODE>: The type field from the event. Valid for all event types. </P></LI><LI><P><CODE><SPAN class="string">'W'</SPAN></CODE>: The path name of the window to which the event was reported (the window field from the event). Valid for all event types. </P></LI><LI><P><CODE><SPAN class="string">'X'</SPAN></CODE>: The x_root field from the event. If a virtual-root window manager is being used then the substituted value is the corresponding x-coordinate in the virtual root. Valid only for <CODE>ButtonPress</CODE>, <CODE>ButtonRelease</CODE>, <CODE>KeyPress</CODE>, <CODE>KeyRelease</CODE>, and <CODE>Motion</CODE> events. </P></LI><LI><P><CODE><SPAN class="string">'Y'</SPAN></CODE>: The y_root field from the event. If a virtual-root window manager is being used then the substituted value is the corresponding y-coordinate in the virtual root. Valid only for <CODE>ButtonPress</CODE>, <CODE>ButtonRelease</CODE>, <CODE>KeyPress</CODE>, <CODE>KeyRelease</CODE>, and <CODE>Motion</CODE> events.</P></LI></UL><P> For more information please consult <A href="http://stage.caldera.com/Technology/tcl/man-8.0/tk/TkCmd/bind.htm"><KBD>bind</KBD></A>. </P></DIV></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node44.html#misc.menu">&lt;&lt; Prev</A></TD><TD><A href="node34.html">- Up -</A></TD><TD><A href="node46.html#misc.reference">Next &gt;&gt;</A></TD></TR></TABLE><HR><ADDRESS>Donatien Grolaux<BR><SPAN class="version">Version 1.3.0 (20040413)</SPAN></ADDRESS></BODY></HTML>
